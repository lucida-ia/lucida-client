@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 30, 30, 32;
    --background-end-rgb: 30, 30, 32;
  }
}

@layer base {
  :root {
    /* Apple System Colors - Light Mode */
    --apple-blue: 0 122 255;
    --apple-green: 52 199 89;
    --apple-indigo: 88 86 214;
    --apple-orange: 255 149 0;
    --apple-pink: 255 45 146;
    --apple-purple: 175 82 222;
    --apple-red: 255 59 48;
    --apple-teal: 90 200 250;
    --apple-yellow: 255 204 0;

    /* Apple Gray Colors */
    --apple-gray: 142 142 147;
    --apple-gray-2: 174 174 178;
    --apple-gray-3: 199 199 204;
    --apple-gray-4: 209 209 214;
    --apple-gray-5: 229 229 234;
    --apple-gray-6: 242 242 247;

    /* Apple Label Colors */
    --apple-label: 0 0 0;
    --apple-secondary-label: 60 60 67;
    --apple-tertiary-label: 60 60 67;
    --apple-quaternary-label: 60 60 67;

    /* Apple Background Colors */
    --apple-system-background: 255 255 255;
    --apple-secondary-system-background: 242 242 247;
    --apple-tertiary-system-background: 255 255 255;
    --apple-grouped-background: 242 242 247;
    --apple-secondary-grouped-background: 255 255 255;
    --apple-tertiary-grouped-background: 242 242 247;

    /* Semantic Mappings */
    --background: var(--apple-system-background);
    --foreground: var(--apple-label);
    --card: var(--apple-secondary-grouped-background);
    --card-foreground: var(--apple-label);
    --popover: var(--apple-secondary-grouped-background);
    --popover-foreground: var(--apple-label);
    --primary: var(--apple-blue);
    --primary-foreground: 255 255 255;
    --secondary: var(--apple-gray-5);
    --secondary-foreground: var(--apple-label);
    --muted: var(--apple-gray-6);
    --muted-foreground: var(--apple-secondary-label);
    --accent: var(--apple-blue);
    --accent-foreground: 255 255 255;
    --destructive: var(--apple-red);
    --destructive-foreground: 255 255 255;
    --border: var(--apple-gray-4);
    --input: transparent;
    --ring: var(--apple-blue);
    --success: var(--apple-green);
    --warning: var(--apple-orange);
    --chart-1: var(--apple-blue);
    --chart-2: var(--apple-green);
    --chart-3: var(--apple-orange);
    --chart-4: var(--apple-purple);
    --chart-5: var(--apple-pink);
    --radius: 0.75rem;
  }

  .dark {
    /* Apple System Colors - Dark Mode */
    --apple-blue: 10 132 255;
    --apple-green: 48 209 88;
    --apple-indigo: 94 92 230;
    --apple-orange: 255 159 10;
    --apple-pink: 255 55 95;
    --apple-purple: 191 90 242;
    --apple-red: 255 69 58;
    --apple-teal: 100 210 255;
    --apple-yellow: 255 214 10;

    /* Apple Gray Colors - Dark */
    --apple-gray: 142 142 147;
    --apple-gray-2: 99 99 102;
    --apple-gray-3: 72 72 74;
    --apple-gray-4: 58 58 60;
    --apple-gray-5: 44 44 46;
    --apple-gray-6: 28 28 30;

    /* Apple Label Colors - Dark */
    --apple-label: 255 255 255;
    --apple-secondary-label: 235 235 245;
    --apple-tertiary-label: 235 235 245;
    --apple-quaternary-label: 235 235 245;

    /* Apple Background Colors - Dark (Lighter, more comfortable) */
    --apple-system-background: 30 30 32;
    --apple-secondary-system-background: 44 44 46;
    --apple-tertiary-system-background: 58 58 60;
    --apple-grouped-background: 30 30 32;
    --apple-secondary-grouped-background: 44 44 46;
    --apple-tertiary-grouped-background: 58 58 60;

    /* Semantic Mappings - Dark */
    --background: var(--apple-system-background);
    --foreground: var(--apple-label);
    --card: var(--apple-secondary-grouped-background);
    --card-foreground: var(--apple-label);
    --popover: var(--apple-secondary-grouped-background);
    --popover-foreground: var(--apple-label);
    --primary: var(--apple-blue);
    --primary-foreground: 255 255 255;
    --secondary: var(--apple-gray-5);
    --secondary-foreground: var(--apple-label);
    --muted: var(--apple-gray-6);
    --muted-foreground: var(--apple-secondary-label);
    --accent: var(--apple-blue);
    --accent-foreground: 255 255 255;
    --destructive: var(--apple-red);
    --destructive-foreground: 255 255 255;
    --border: var(--apple-gray-4);
    --input: transparent;
    --ring: var(--apple-blue);
    --success: var(--apple-green);
    --warning: var(--apple-orange);
    --chart-1: var(--apple-blue);
    --chart-2: var(--apple-green);
    --chart-3: var(--apple-orange);
    --chart-4: var(--apple-purple);
    --chart-5: var(--apple-pink);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display",
      "SF Pro Text", system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Apple Typography Scale */
  .text-large-title {
    font-size: 2.125rem; /* 34px */
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.025em;
  }

  .text-title-1 {
    font-size: 1.75rem; /* 28px */
    font-weight: 400;
    line-height: 1.2;
    letter-spacing: -0.02em;
  }

  .text-title-2 {
    font-size: 1.375rem; /* 22px */
    font-weight: 400;
    line-height: 1.3;
    letter-spacing: -0.015em;
  }

  .text-title-3 {
    font-size: 1.25rem; /* 20px */
    font-weight: 400;
    line-height: 1.3;
    letter-spacing: -0.01em;
  }

  .text-headline {
    font-size: 1.0625rem; /* 17px */
    font-weight: 600;
    line-height: 1.3;
    letter-spacing: -0.005em;
  }

  .text-body {
    font-size: 1.0625rem; /* 17px */
    font-weight: 400;
    line-height: 1.4;
  }

  .text-callout {
    font-size: 1rem; /* 16px */
    font-weight: 400;
    line-height: 1.4;
  }

  .text-subhead {
    font-size: 0.9375rem; /* 15px */
    font-weight: 400;
    line-height: 1.4;
  }

  .text-footnote {
    font-size: 0.75rem; /* 12px */
    font-weight: 400;
    line-height: 1.4;
  }

  .text-caption-1 {
    font-size: 0.75rem; /* 12px */
    font-weight: 400;
    line-height: 1.3;
  }

  .text-caption-2 {
    font-size: 0.6875rem; /* 11px */
    font-weight: 400;
    line-height: 1.2;
  }
}

@layer utilities {
  /* Apple-style subtle transitions */
  .apple-transition {
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .apple-transition-fast {
    transition: all 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .apple-transition-slow {
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  /* Apple-style shadows */
  .apple-shadow-sm {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .apple-shadow {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .apple-shadow-lg {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }

  /* Enhanced shadows for dark mode card layering */
  .dark .apple-shadow-sm {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3),
      0 0 0 1px rgba(255, 255, 255, 0.05);
  }

  .dark .apple-shadow {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.08);
  }

  .dark .apple-shadow-lg {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5),
      0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  /* Card elevation system for layered cards */
  .card-elevation-1 {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .card-elevation-2 {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  .card-elevation-3 {
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(0, 0, 0, 0.08);
  }

  /* Dark mode elevation system */
  .dark .card-elevation-1 {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.06);
  }

  .dark .card-elevation-2 {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5),
      0 0 0 1px rgba(255, 255, 255, 0.08);
  }

  .dark .card-elevation-3 {
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6),
      0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  /* Apple-style focus ring */
  .apple-focus {
    outline: 2px solid rgb(var(--apple-blue));
    outline-offset: 2px;
  }
}

/* Apple-style subtle animations */
@keyframes apple-fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes apple-scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes apple-slide-up {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-apple-fade-in {
  animation: apple-fade-in 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.animate-apple-scale-in {
  animation: apple-scale-in 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.animate-apple-slide-up {
  animation: apple-slide-up 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Smooth navbar animations */
@keyframes slideDown {
  from {
    transform: translateY(-100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes fadeInScale {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Enhanced easing for smooth transitions */
.navbar-transition {
  transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);
}

.navbar-background-transition {
  transition: all 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Smooth scrolling for anchor links */
html {
  scroll-behavior: smooth;
}

/* Ensure smooth scrolling with offset for sticky navbar */
section[id] {
  scroll-margin-top: 100px;
}

/* Hide scrollbar while maintaining scroll functionality */
html,
body {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
}

html::-webkit-scrollbar,
body::-webkit-scrollbar {
  display: none; /* Safari and Chrome */
}

/* Also hide scrollbar on any scrollable containers */
* {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
}

*::-webkit-scrollbar {
  display: none; /* Safari and Chrome */
}

/* clerk */

.cl-userButtonTrigger {
  box-shadow: none !important;
  width: 100% !important;
}

.cl-userButton-root {
  width: 100% !important;
}

/* Clerk UserButton Dark Mode Overrides */

/* Additional Clerk Dark Mode Overrides */
.dark [data-clerk-popover] {
  background-color: rgb(var(--apple-secondary-grouped-background)) !important;
  border-color: rgb(var(--apple-gray-4)) !important;
}

.dark [data-clerk-popover] * {
  color: rgb(var(--apple-label)) !important;
}

.dark [data-clerk-popover] .cl-userButtonPopoverActionButtonText {
  color: rgb(var(--apple-label)) !important;
}

.dark [data-clerk-popover] .cl-userButtonPopoverActionButtonIcon {
  color: rgb(var(--apple-secondary-label)) !important;
}

/* Force dark mode styling for all Clerk components */
.dark .cl-component {
  background-color: rgb(var(--apple-secondary-grouped-background)) !important;
  color: rgb(var(--apple-label)) !important;
}
